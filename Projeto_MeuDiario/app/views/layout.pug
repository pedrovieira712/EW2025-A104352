doctype html
html
  head
    title= title
    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css', rel='stylesheet')
    link(href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css', rel='stylesheet')
    link(rel='stylesheet', href='/stylesheets/style.css')
  body
    nav.navbar.navbar-expand-lg.navbar-dark.bg-primary
      .container
        a.navbar-brand(href='/') 
          | Diário Digital
        
        button.navbar-toggler(type='button', data-bs-toggle='collapse', data-bs-target='#navbarNav')
          span.navbar-toggler-icon
        
        .collapse.navbar-collapse#navbarNav
          ul.navbar-nav.me-auto
            li.nav-item
              a.nav-link(href='/items/') Conteúdos Públicos
            if user
              li.nav-item
                a.nav-link(href='/items/dashboard') Meus Conteúdos
            li.nav-item
              a.nav-link(href='/categories') Categorias
            li.nav-item
              a.nav-link(href='/timeline') Timeline
            
            if user
              li.nav-item
                a.nav-link(href='/sip/upload') Upload SIP
              
              if user.isAdmin
                li.nav-item.dropdown
                  a.nav-link(href='/admin') Admin Dashboard
          ul.navbar-nav
            if user
              li.nav-item.dropdown
                a.nav-link.dropdown-toggle(href='#', role='button', data-bs-toggle='dropdown')
                  if user.profilePicture
                    img.rounded-circle.me-1(src=user.profilePicture, alt=user.name, style='width: 24px; height: 24px;')
                  else
                    i.bi.bi-person-circle.me-1
                  = user.name
                ul.dropdown-menu
                  li: a.dropdown-item(href='/auth/logout') Logout
            else
              li.nav-item
                a.nav-link(href='/auth/login') Login
              li.nav-item
                a.nav-link(href='/auth/register') Registar

    main.container.mt-4
      block content

    footer.bg-light.py-3.mt-5
        .text-md-center
            p.mb-0 &copy; 2025 Engenharia Web

    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js')
    script(src='/javascripts/app.js')
